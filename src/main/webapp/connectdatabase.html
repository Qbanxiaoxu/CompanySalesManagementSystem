<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>连接数据库</title>
</head>
<body>
<script type="text/javascript">
  window.onload=function (){
    document.getElementById("btn").onclick=function (){
      let xhr = new XMLHttpRequest();
      xhr.onreadystatechange=function (){
        // console.log(this.responseText)
        if(this.readyState==4){
          if(this.status==200){
            let stuList = JSON.parse(this.responseText);
            let html = "";
            for(let i=0; i<stuList.length; i++){
              let stu = stuList[i];
              html+="<tr>";
              html+="<td>"+stu.id+"</td>";
              html+="<td>"+stu.name+"</td>";
              html+="<td>"+stu.age+"</td>";
              html+="<td>"+stu.addr+"</td>";
              html+="</tr>";
            }
            document.getElementById("stutbody").innerHTML=html;
          }else{
            alert(this.status);
          }
        }
      }
      xhr.open("POST","ConnectDatabase",true);
      xhr.send();
    }
  }
</script>
<input type="button" value="显示学生信息" id="btn">
<table width="50%" border="1px">
  <tr>
    <td>编号</td>
    <td>姓名</td>
    <td>年龄</td>
    <td>住址</td>
  </tr>
  <tbody id="stutbody"></tbody>
</table>
</body>
</html>